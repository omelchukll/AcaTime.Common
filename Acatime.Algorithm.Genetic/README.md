# Алгоритм складання розкладу AcaTime.Algorithm.Genetic

## Опис алгоритму

todo: Описати що ми робим

На даний момент: Беремо результат з Default алгоритму
та покращуємо його випадковими мутаціями

todo: Оскільки мутації нарешті запрацювали як треба, додати інші операції

## Математична модель


### Обмеження
Множина обмежень C = {C₁, C₂, ..., Cₖ}, де обмеження поділяються на категорії:
- **Жорсткі обмеження** (hard constraints) – умови, що обов'язково повинні виконуватися:
  - Один викладач не може проводити два заняття одночасно
  - Група студентів не може бути присутня на двох заняттях одночасно
  - Аудиторія не може використовуватися для двох занять одночасно
  - Аудиторія повинна відповідати типу заняття та вміщувати необхідну кількість студентів

- **М'які обмеження** (soft constraints) – бажані, але не обов'язкові умови:
  - Мінімізація "вікон" у розкладі студентів та викладачів
  - Рівномірний розподіл занять протягом тижня
  - Врахування переваг викладачів щодо часу проведення занять

## Ключові компоненти алгоритму

### Структура даних
- `FacultySeasonDTO` - інкапсуляція даних факультету, семестру, предметів, груп, викладачів та аудиторій
- `SlotTracker` - структура відстеження стану змінної, містить поточні та відкинуті доменні значення
- `DomainValue` - атомарне значення домену, що включає дату та часовий інтервал



## Параметризація алгоритму

Алгоритм конфігурується через набір параметрів, що впливають на ефективність пошуку:

| Параметр                      | Формальний опис                                                                                       | Вплив на характеристики пошуку                                                                                         |
|-------------------------------|-------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
| `GeneticIterations`           | Кількість ітерацій ген. алгоритму. todo: коли буде декілька видів операцій, розбити його окремі частини | На зараз: Визначає кількість мутацій                                                                                   |
| Параметри дефолтного алгориму |
| `SlotsTopK`                   | Розмір множини змінних-кандидатів для стохастичного вибору                                            | Збільшення призводить до розширення траверсованого простору станів при потенційному зростанні обчислювальної складності |
| `SlotsTemperature`            | Коефіцієнт T у функції розподілу ймовірностей для вибору змінної                                      | Регулює баланс між детермінованим (T→0) та випадковим (T→∞) вибором                                                    |
| `DomainsTopK`                 | Розмір підмножини доменних значень для стохастичного вибору                                           | Визначає ступінь локального дослідження простору значень окремої змінної                                               |
| `DomainsTemperature`          | Коефіцієнт T у функції розподілу ймовірностей для вибору значення                                     | Аналогічно SlotsTemperature, але на рівні окремих доменних значень                                                     |
| `IgnoreClassrooms`            | Булева змінна для деактивації обмежень щодо аудиторій                                                 | Спрощує задачу CSP шляхом зменшення кількості обмежень                                                                 |
| `UserFunctions`               | Множина користувацьких предикатів для валідації та оцінювання                                         | Дозволяє інтегрувати додаткові евристики та обмеження                                                                  |

## Використання алгоритму